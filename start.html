<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check-In/Check-Out Form</title>
    <link rel="stylesheet" href="start.css">
</head>
<body>

<header>
    <div class="header-content">
        <img src="logo.png" alt="Tharaka University Logo" class="logo">
        <div class="title-container">
            <h1>Tharaka University<br>Online Class Attendance System</h1>
            <p>Transforming Higher Education... Enhancing Lives</p>
        </div>
    </div>
</header>

<div class="content">
    <div class="form-container">
        <p style="color: #091EDB; align-items: center;">Students in the university are required to mark their attendance online</p>
        
        <!-- Question and Answer Section -->
        <div class="question-container">
            <label for="securityQuestion">What is the answer to today's class question?</label>
            <input type="text" id="securityQuestion" name="securityQuestion" placeholder="Type your answer here" required>
        </div>
        
        <form id="attendanceForm" action="attedance.php" method="post">
            <label for="firstName">Name</label>
            <div class="name-field">
                <input type="text" id="firstName" name="firstName" placeholder="First Name" required>
                <input type="text" id="lastName" name="lastName" placeholder="Last Name" required>
            </div>
            
            <div class="select-option">
                <label>Select One:</label><br>
                <input type="radio" id="checkIn" name="check" value="checkIn" required>
                <label for="checkIn">Check-In</label>
                <input type="radio" id="checkOut" name="check" value="checkOut" required>
                <label for="checkOut">Check-Out</label>
            </div>
            
            <label for="registrationNumber">Registration Number:</label>
            <input type="text" id="registrationNumber" name="registrationNumber" required><br><br>
            
            <label for="unitCode">Unit Code</label>
            <select id="unitCode" name="unitCode" required>
                <option value="" disabled selected>Select Unit Code</option>
                <option value="CSC101">CSC101</option>
                <option value="MTH102">MTH102</option>
                <option value="PHY103">PHY103</option>
                <option value="ENG104">ENG104</option>
                <option value="DIIT 0228">DIIT 0228</option>
                <option value="DIIT 0246">DIIT 0246</option>
                <option value="DIIT 0283">DIIT 0283</option>
                <option value="COSC 0261">COSC 0261</option>
            </select><br><br>

            <label for="unitTitle">Unit Title</label>
            <select id="unitTitle" name="unitTitle" required>
                <option value="" disabled selected>Select Unit Title</option>
                <option value="Introduction to Computer Science">Introduction to Computer Science</option>
                <option value="Calculus I">Calculus I</option>
                <option value="General Physics">General Physics</option>
                <option value="English Composition">English Composition</option>
                <option value="Computerized Accounting">Computerized Accounting</option>
                <option value="Web Development">Web Development</option>
                <option value="ICT Project II">ICT Project II</option>
                <option value="E-Commerce">E-Commerce</option>
            </select><br><br>
            
            <label for="date">Date</label>
            <input type="date" id="date" name="date" required><br><br>

            <label for="time">Time (Hour and Minutes)</label>
            <input type="time" id="time" name="time" required><br><br>

            <button type="submit" class="submit-button">Submit</button>
        </form>
    </div>

    <div class="slideshow-container">
        <div class="mySlides fade">
            <img src="informatics-workshop-at-university-EWCAE0.jpg" alt="University Image 1">
        </div>
        <div class="mySlides fade">
            <img src="FB_IMG_1647166646368.jpg" alt="University Image 2">
        </div>
        <div class="mySlides fade">
            <img src="gettyimages-141090015-1024x1024.jpg" alt="University Image 3">
        </div>
    </div>
</div>
<script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
        let slides = document.getElementsByClassName("mySlides");
        // Check if the slides array is empty
        if (slides.length === 0) {
            console.error("No slides found!");
            return;
        }
        
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none"; // Hide all slides
        }

        slideIndex++;
        if (slideIndex > slides.length) { slideIndex = 1 } // Reset to the first slide
        slides[slideIndex - 1].style.display = "block"; // Show the current slide
        setTimeout(showSlides, 3000); // Change image every 3 seconds
    }
</script>

<script>
    // Set date and time fields to current date and time
    window.addEventListener('load', () => {
        const dateField = document.getElementById('date');
        const timeField = document.getElementById('time');
        
        // Get current date and time
        const now = new Date();
        
        // Format date as YYYY-MM-DD
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        dateField.value = `${year}-${month}-${day}`;
        
        // Format time as HH:MM
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        timeField.value = `${hours}:${minutes}`;
    });

    // Add a check for the question answer before submitting the form
    document.getElementById('attendanceForm').addEventListener('submit', function(event) {
        const correctAnswer = "42"; // Replace with the correct answer to the teacher's question
        const userAnswer = document.getElementById('securityQuestion').value.trim();

        if (userAnswer !== correctAnswer) {
            alert("Incorrect answer! You cannot sign the attendance.");
            event.preventDefault(); // Prevent form submission
        }
    });
</script>

</body>
</html>
